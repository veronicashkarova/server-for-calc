# server-for-calc

#Распределённый вычислитель арифметических выражений

###Данный сервер решает арифметические действия с числами, также учитывая скобки и другие арифметические знаки.
###Сервер проверяет выражение на такие ошибки: некорректное выражение, пустое выражение.

###Он состои из двух частей:
Сервер, который принимает арифметическое выражение, переводит его в набор последовательных задач и обеспечивает порядок их выполнения(оркестратор)ю
Вычислитель, который может получить от оркестратора задачу, выполнить его и вернуть серверу результат(агент)ю
#
Для запуска сервера выполнить команду в папке проекта:
```
go run ./cmd/main.go
```
при старте сервера в терминале выdодится строка "Server started"

Для добавления вычисления арифметического выражения:
```
curl --location 'localhost/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
   "expression": "2+2"
}'
```
Коды ответа: 201 - выражение принято для вычисления, 422 - невалидные данные, 500 - что-то пошло не так

Для получения списка выражений:
curl --location 'localhost/api/v1/expressions'
Коды ответа: 200 - успешно получен список выражений, 500 - что-то пошло не так

Для получения выражения по его идентификатору;
```
curl --location 'localhost/api/v1/expressions/:id'
```
Коды ответа: 200 - успешно получено выражение, 404 - нет такого выражения, 500 - что-то пошло не так
Для получения задачи для выполнения:
```
curl --location 'localhost/internal/task'
```
Прием результата обработки данных:
```
curl --location 'localhost/internal/task' \
--header 'Content-Type: application/json' \
--data '{
  "id": 1,
  "result": 2.5
}'
```
Коды ответа:200 - успешно записан результат,404 - нет такой задачи, 422 - невалидные данные, 500 - что-то пошло не так
